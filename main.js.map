{"version":3,"file":"main.js","sources":["continuum-of-care.js","expand.js","fixed-block.js","header-menu.js","hover-image.js","rotate-with-scroll.js","start-foundation.js","steady-background.js"],"names":["BlockedAnimation","el","numBlocks","deadZone","this","ANIMATION_CLASS_PREFIX","$","elHeight","innerHeight","elOffsetTop","offset","top","sceneHeight","setBlockOffsets","window","scroll","scrollHandler","bind","jQuery","prototype","blockOffsets","blockHeight","i","push","setBlock","getCurrentBlock","ret","currentOffset","scrollY","length","blockNum","newClass","hasClass","removeAnimationClasses","addClass","removeClass","each","index","$el","blocks","parseInt","data","COLLAPSED_CLASS","BUTTON_CLASS","CONTENT_CLASS","ANIMATION_SPEED","ExpandWidget","toggleButton","find","contentContainerId","contentContainer","isVisible","show","hide","setHandlers","click","toggle","e","preventDefault","slideUp","slideDown","a","$parent","parent","margin","css","margin-top","CLOSED_CLASS","MENU_CLASS","EXPAND_CLASS","TIME_OPEN","SCROLL_BUFFER","HeaderMenu","containerEl","header","menuEl","expandEl","open","hovered","scrolledAway","timer","undefined","draw","document","handleScroll","hover","handleHoverIn","handleHoverOut","checkAndDrawMenu","clearTimeout","setTimeout","headerMenuEl","getElementById","blurb","stop","rotateAmount","transform","foundation","steadyBackgrounds","ready","item","scrollTop","scrollOffset","forEach","itemTop"],"mappings":"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","sourcesContent":[";(function() {\n\"use strict\";\n\nvar $ = jQuery\n\nfunction BlockedAnimation(el, numBlocks, deadZone) {\n  this.ANIMATION_CLASS_PREFIX = 'animation-block-'\n  this.el = $(el)\n  this.numBlocks = numBlocks\n  this.elHeight = el.innerHeight()\n  this.elOffsetTop = el.offset().top\n  this.deadZone = deadZone\n  this.sceneHeight = this.elHeight - this.deadZone\n  this.setBlockOffsets()\n  $(window).scroll(this.scrollHandler.bind(this))\n}\nBlockedAnimation.prototype.setBlockOffsets = function() {\n  this.blockOffsets = []\n  this.blockHeight = this.sceneHeight / this.numBlocks\n  for(var i = 0; i < this.numBlocks; i++) {\n    this.blockOffsets.push((i+1)*this.blockHeight)\n  }\n}\nBlockedAnimation.prototype.scrollHandler = function() {\n  this.setBlock(this.getCurrentBlock())\n}\nBlockedAnimation.prototype.getCurrentBlock = function() {\n  var currentOffset = window.scrollY - this.elOffsetTop\n  var ret\n  for(var i = 0; i < this.blockOffsets.length; i++) {\n    if (currentOffset < this.blockOffsets[i]) {\n      ret = i+1\n      break\n    }\n  }\n  ret = ret || this.blockOffsets.length\n  return ret\n}\nBlockedAnimation.prototype.setBlock = function(blockNum) {\n  var newClass = this.ANIMATION_CLASS_PREFIX+blockNum\n  if (this.el.hasClass(newClass)) { return }\n  this.removeAnimationClasses()\n  this.el.addClass(newClass)\n}\nBlockedAnimation.prototype.removeAnimationClasses = function() {\n  for(var i = 1; i < this.numBlocks+1; i++) {\n    this.el.removeClass(this.ANIMATION_CLASS_PREFIX+i)\n  }\n}\n\n\n$('[data-blocked-animation]').each(function(index, el) {\n  var $el = $(el)\n  var blocks = parseInt($el.data('blocked-animation-blocks'))\n  var deadZone = parseInt($el.data('blocked-animation-dead-zone')) || 0\n  new BlockedAnimation($el, blocks, deadZone)\n})\n}());\n",";(function() {\n\"use strict\";\n\nvar $ = jQuery\n\nvar COLLAPSED_CLASS = 'expand--collapsed'\nvar BUTTON_CLASS = 'expand__button'\nvar CONTENT_CLASS = 'expand__content'\nvar ANIMATION_SPEED = 250\n\nvar ExpandWidget = function(el) {\n  this.el = $(el)\n  this.toggleButton = this.el.find('.'+BUTTON_CLASS)\n  var contentContainerId = this.el.data('expand')\n  this.contentContainer = $('#'+contentContainerId)\n  if (!this.contentContainer.length)\n    this.contentContainer = this.el.find('.'+CONTENT_CLASS)\n  // Make sure the DOM is set up correctly to start\n  this.isVisible() ? this.show() : this.hide()\n  this.setHandlers()\n}\nExpandWidget.prototype.setHandlers = function() {\n  this.toggleButton.click(this.toggle.bind(this))\n}\nExpandWidget.prototype.toggle = function(e) {\n  e.preventDefault()\n  this.isVisible() ? this.hide() : this.show()\n}\nExpandWidget.prototype.isVisible = function() {\n  return !this.el.hasClass(COLLAPSED_CLASS)\n}\nExpandWidget.prototype.hide = function() {\n  this.el.addClass(COLLAPSED_CLASS)\n  this.contentContainer.slideUp(ANIMATION_SPEED)\n}\nExpandWidget.prototype.show = function() {\n  this.el.removeClass(COLLAPSED_CLASS)\n  this.contentContainer.slideDown(ANIMATION_SPEED)\n}\n\n$('.expand').each(function(index, el) {\n  window.a = new ExpandWidget(el)\n})\n}());\n",";(function() {\n\"use strict\";\n\nvar $ = jQuery\n\n$('[data-fixed-block]').each(function(index, el) {\n  var $el = $(el)\n  var $parent = $el.parent()\n  $(window).scroll(function() {\n    var margin = window.scrollY - $parent.offset().top\n    if (margin < 0) margin = 0\n    $el.css({'margin-top': margin})\n  })\n})\n}());\n",";(function() {\n\"use strict\";\n\nvar $ = jQuery\n\nvar CLOSED_CLASS = 'header__menu-container--closed'\nvar MENU_CLASS = 'header__items'\nvar EXPAND_CLASS = 'header__menu-container__expand'\nvar TIME_OPEN = 2000\nvar SCROLL_BUFFER = 500\n\nvar HeaderMenu = function(el) {\n  this.containerEl = $(el)\n  this.header = $('header')\n  this.menuEl = this.containerEl.find('.'+MENU_CLASS)\n  this.expandEl = this.containerEl.find('.'+EXPAND_CLASS)\n\n  this.open = true\n  this.hovered = false\n  this.scrolledAway = false\n  this.timer = undefined\n\n  this.setHandlers()\n\n  this.draw()\n}\nHeaderMenu.prototype.setHandlers = function() {\n  $(document).scroll(this.handleScroll.bind(this))\n  this.header.hover(this.handleHoverIn.bind(this),\n                    this.handleHoverOut.bind(this))\n}\nHeaderMenu.prototype.handleScroll = function() {\n  if(window.scrollY > SCROLL_BUFFER)\n    this.scrolledAway = true\n  else\n    this.scrolledAway = false\n  this.checkAndDrawMenu()\n}\nHeaderMenu.prototype.handleHoverIn = function() {\n  if(this.timer) window.clearTimeout(this.timer)\n  this.hovered = true\n  this.checkAndDrawMenu()\n}\nHeaderMenu.prototype.handleHoverOut = function() {\n  this.timer = window.setTimeout(this.checkAndDrawMenu.bind(this), TIME_OPEN)\n  this.hovered = false\n}\n// Timer is the only thing that closes\nHeaderMenu.prototype.checkAndDrawMenu = function() {\n  this.timer = undefined\n  if(this.scrolledAway && !this.hovered) {\n    this.open = false\n  } else {\n    this.open = true\n  }\n  this.draw()\n}\nHeaderMenu.prototype.draw = function() {\n  if(this.open && this.containerEl.hasClass(CLOSED_CLASS)) {\n    this.containerEl.removeClass(CLOSED_CLASS)\n  } else if (!this.open && !this.containerEl.hasClass(CLOSED_CLASS)) {\n    this.containerEl.addClass(CLOSED_CLASS)\n  }\n}\n\nvar headerMenuEl = document.getElementById('header-menu')\nnew HeaderMenu(headerMenuEl)\n}());\n",";(function() {\n\"use strict\";\n\nvar $ = jQuery\n\n$('.hover-image').each(function(index, el) {\n  var blurb = $(el).find('.hover-image__text__blurb')\n  $(el).hover(function() {\n    blurb.stop().show(250)\n  }, function() {\n    blurb.stop().hide(250)\n  })\n})\n}());\n",";(function() {\n\"use strict\";\n\nvar $ = jQuery\n\n$('[data-rotate-with-scroll]').each(function(index, el) {\n  $(window).scroll(function() {\n    var rotateAmount = window.scrollY/2\n    $(el).css({'transform': 'rotate('+rotateAmount+'deg)'})\n  })\n})\n}());\n",";(function() {\n\"use strict\";\n\njQuery(document).foundation()\n}());\n",";(function() {\n\"use strict\";\n\n// TODO: Either fix this or delete it. Right now it's way too jumpy.\nvar $ = jQuery;\nvar steadyBackgrounds = []\n$(document).ready(function() {\n  $('[data-steady-background]').each(function(index, item) {\n    steadyBackgrounds.push({\n      el: $(item),\n      offset: $(item).scrollTop()\n    })\n    $(item).css('background-position-y', 0)\n  })\n})\n\n$(window).scroll(function() {\n  var scrollOffset = window.scrollY\n  steadyBackgrounds.forEach(function(item) {\n    var itemTop = item.offset;\n    item.el.css('background-position-y', scrollOffset - itemTop)\n  })\n});\n}());\n"],"sourceRoot":"/source/"}